









function GetCalendarTbody(Year, Month, FirstDayOfWeek)
{
    let Result = '';

    const TheLastDate = (new Date(Year, Month + 1, 0)).getDate();
    for (let ThisDate = 1, ThisDay = FirstDayOfWeek; ThisDate <= TheLastDate; ThisDate++)
    {
        // add tr if needed
        if (ThisDay == FirstDayOfWeek)
            Result += '<tr>';

        // add begin padding days if needed
        if (ThisDate == 1)
            for (let i = 0; i < ((new Date(Year, Month, 1)).getDay() - FirstDayOfWeek + 7) % 7; i++, ThisDay++)
                Result += '<td class="calendar_begin_padding_day"></td>';

        // add day
        Result += '<td class="calendar_day">' + ThisDate + '</td>';

        // add end padding days if needed
        if (ThisDate == TheLastDate)
            for (let i = 0; i < FirstDayOfWeek - ThisDay + 6; i++, ThisDay++)
                Result += '<td class="calendar_end_padding_day"></td>';

        // update ThisDay
        if (ThisDay == FirstDayOfWeek + 6) {Result += '</tr>'; ThisDay = FirstDayOfWeek;}
        else ThisDay++;
    }

    return Result;
}
