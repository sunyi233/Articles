






function GetCalendarTbody(Year, Month, FirstDayOfWeek)
{
    let Result = '';

    const TheLastDayOfTheMonth = (new Date(Year, Month + 1, 0)).getDate();
    for (let ThisDate = 1, ThisDayInTheWeek = FirstDayOfWeek; ThisDate <= TheLastDayOfTheMonth; ThisDate++)
    {
        // add tr if needed
        if (ThisDayInTheWeek == FirstDayOfWeek)
            Result += '<tr>';

        // add begin padding days if needed
        if (ThisDate == 1)
            for (let i = 0; i < ((new Date(Year, Month, 1)).getDay() - FirstDayOfWeek + 7) % 7; i++)
                {Result += '<td class="calendar_begin_padding_day"></td>'; ThisDayInTheWeek++;}

        // add day
        Result += '<td class="calendar_day">' + ThisDate + '</td>';

        // add end padding days if needed
        if (ThisDate == TheLastDayOfTheMonth)
            for (let i = 0; i < FirstDayOfWeek - ThisDayInTheWeek + 6; i++)
                {Result += '<td class="calendar_end_padding_day"></td>'; ThisDayInTheWeek++;}

        // update ThisDayInTheWeek
        if (ThisDayInTheWeek == FirstDayOfWeek + 6) {Result += '</tr>'; ThisDayInTheWeek = FirstDayOfWeek;}
        else ThisDayInTheWeek++;
    }

    return Result;
}












